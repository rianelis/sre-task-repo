
global:
  resolve_timeout: 1m

route:
  group_by: ['alertname']
  group_wait: 10s
  group_interval: 2m
  repeat_interval: 2m
  receiver: 'gmail-notifications'

receivers:
- name: 'gmail-notifications'
  email_configs:
  - to: 'example@gmail.com'
    send_resolved: true
    from: '${EMAIL}'
    smarthost: smtp.gmail.com:587
    auth_username: '${EMAIL}'
    auth_identity: '${EMAIL}'
    auth_password: '${GMAIL_APP_PASSWORD}'
    headers:
      subject: 'Alert: {{ .CommonAnnotations.summary }}'
      to: 'example@gmail.com'
    html: '<h2>{{ .CommonAnnotations.title }}</h2><p>{{ .CommonAnnotations.description }}</p><p>Severity: {{ .Labels.severity }}</p>'
